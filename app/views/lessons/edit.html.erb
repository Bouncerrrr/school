<%= render 'layouts/navbar' %>

<div class="container mt-4 basic">
    <h1 class="text-center">Create new lesson for <%= @tutor.name %> <%= @tutor.surname %></h1>

    <%= form_with(model: [@tutor, @lesson], local: true) do |form| %>
        
        <div class="mb-3">
            <%= form.label :lesson_date, "Lesson Date", class: "form-label fs-4" %>
            <%= form.date_field :lesson_date, min: Date.today.to_s, class: "form-control #{'is-invalid' if @lesson.errors[:lesson_date].any?}" %> 

            <% if @lesson.errors[:lesson_date].any? %>
                <div class="invalid-feedback d-block">
                    <%= @lesson.errors[:lesson_date].join(", ") %>
                </div>
            <% end %>
        </div>

        <div class="d-flex justify-content-center gap-3 mt-3">
            <%= link_to 'Back to Tutor', tutor_path(@tutor), class: "btn btn-warning" %>
            <%= form.submit "Reschedule Lesson", class: "btn btn-success" %>
        </div>

    <% end %>
</div>
